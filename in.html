<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accelerometer Background</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
      background: linear-gradient(45deg, #000000 50%, #1f222e 100%);
        transition: background-color 0.5s ease;
      }
    </style>
  </head>
  <body>
    <script>
      function startAccelerometerReading(callback) {
        if (window.DeviceOrientationEvent) {
          // Device orientation events are supported
          window.addEventListener("deviceorientation", function (event) {
            // Extract accelerometer data from the event object
            var alpha = event.alpha; // Rotation around the z-axis (in degrees)
            var beta = event.beta; // Rotation around the x-axis (in degrees)
            var gamma = event.gamma; // Rotation around the y-axis (in degrees)

            // Call the provided callback function with the accelerometer data
            callback({ alpha: alpha, beta: beta, gamma: gamma });
          });
        } else {
          // Device orientation events are not supported
          console.error(
            "Device orientation events are not supported in this browser."
          );
        }
      }

      window.addEventListener("deviceorientation", handleOrientation);

      function handleOrientation(event) {
        // Get the device's alpha (rotation around the z-axis) value
        var alpha = event.alpha;
        if (alpha === null) return; // If alpha value is null, return

        // Normalize alpha value to be between 0 and 360
        alpha = alpha % 360;

        // Map the alpha value to a percentage for the gradient
        var gradientPercentage = (alpha / 360) * 100;

        // Update the background gradient
        document.body.style.background = `linear-gradient(${alpha}deg, #000000 0%, #1f222e ${gradientPercentage}%)`;
      }
    </script>
  </body>
</html>

